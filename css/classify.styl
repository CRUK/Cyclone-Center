#classify
  .classifier
    panel()
    float right
    width 550px

    img
      box-sizing border-box
      display block

    .main-pair
      clearfix()
      height 250px // Adjusted by script
      overflow hidden
      padding 20px 0 20px 20px
      position relative

      img
        float left
        height 250px
        position absolute
        width 250px

        &.subject
          z-index 1

        &.selected
          border 3px solid $greenish

      .point
        border: 0 solid transparent
        border-width 2px 0 0 2px
        height 50px
        pointer-events none
        position absolute
        width 50px
        z-index 2

        &:before
          border 0 solid transparent
          border-width 0 2px 2px 0
          bottom 100%
          content " "
          height 100%
          position absolute
          right 100%
          width 100%

        &.center
        &.center:before
          border-color #fff

        &.red,
        &.red:before,
        &.eye,
        &.eye:before
          border-color #000

    .step
      border-top 1px solid $gray-light
      border-width 1px 0
      display none
      padding 0 20px
      text-align center

      p
        margin 20px 0
        font-weight 600


        & + .heading
          margin-top -10px

        &.heading
          font-family "Open Sans Condensed"
          font-weight 700
          font-size  20px

          & + p
            margin-top -10px


      [data-popup]
        border-bottom 0

      button
        position relative
        vertical-align middle

        &[name="stronger"],
        &[name="category"],
        &[name="blue"]
          standard-button()

        // Image/swatch-style buttons
        &[name="match"],
        &[name="surrounding"],
        &[name="exceeding"],
        &[name="feature"]
          display inline-block
          margin 0 5px
          overflow hidden
          white-space nowrap

          img
            border-radius 3px
            height 30px
            width 30px

          &.selected img
            border 3px solid $greenish

        &[name="feature"] img
          height 60px
          width 60px

        // Category/match buttons
        &[name="category"]
          font-size 12px
          font-weight 600
          height 40px
          padding-left 0
          padding-right 0
          width 90px

          &.selected:before,
          &.selected:after
            border 10px solid transparent
            border-top 10px solid $white
            content " "
            left 50%
            margin 20px 0 0 -10px
            position absolute
            top 100%

          &.selected:before
            border-top-color $gray-dark
            margin-top 21px
            opacity 0.5

        &[name="match"]
          margin 0

          img
            width 90px
            height 90px

          .caption
            background rgba($black, 0.5)
            bottom 0
            color $white
            font-weight bold
            left 0
            padding 3px
            position absolute
            text-shadow 0 1px 1px $blacks
            width 100%

      .help-ball
        standard-button()
        border-radius 50%
        font bold 14px/16px "Open Sans", sans-serif
        height 16px
        margin 0
        padding 0
        width 16px
        vertical-align top

      &.categories-and-matches
        padding-left 0
        padding-right 0

        .categories,
        .matches
          ul
            clearfix()
            margin 20px 0 20px 5px

            li
              float left
              margin 0 0 0 15px
              position relative

              .help-ball
                position absolute
                right -5px
                top -5px

        .categories
          z-index 1

        .matches
          background $gray-light
          box-shadow 0 3px 10px -3px $gray-dark inset
          overflow hidden

          ul[data-category]
            display none

            &.selected
              display block

      &.reveal
        ul
          font-size 13px

          li
            display inline-block
            margin 0 5px 5px

            img
              height 155px
              width 155px

            p
              clearfix()
              margin 10px 0

            a,
            button
              standard-button()
              font-size 12px
              padding 0.5em

              &[name="unfavorite"]
                display none

    .footer
      clearfix()
      border-top 1px solid $gray-light
      padding 15px 20px

      .progress
        float left
        height 26px
        width 33%

        .message
          font-size 10px
          font-weight bold
          margin-bottom 3px

        .series
          .track
            background $gray
            border-radius 3px
            box-shadow 0 1px 1px $gray-dark inset
            height 5px
            overflow hidden
            position relative

            .fill
              transition(width 1s ease-in-out)
              background $orange
              height 100%
              left 0
              position absolute
              top 0
              width 100%

      .action
        float right
        font-size: 13px

        button
          &[name="restart"]
            color $orange
            height 1.5em
            width 1.5em

          &[name="continue"],
          &[name="next-subject"]
            standard-button()
            width 130px

    // Reveal the appropriate step.
    &[data-step="stronger"] .stronger,
    &[data-step="match"] .categories-and-matches,
    &[data-step="center"] .center,
    &[data-step="eye"] .eye,
    &[data-step="surrounding"] .surrounding,
    &[data-step="exceeding"] .exceeding,
    &[data-step="feature"] .feature,
    &[data-step="blue"] .blue,
    &[data-step="red"] .red,
    &[data-step="reveal"] .reveal
      display block

    &[data-step="reveal"] .main-pair
      display none
