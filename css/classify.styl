#classify
  bottom 0
  left 0
  position absolute
  right 0
  top 0

  > .leaflet-container
    bottom 0
    left 0
    position absolute
    right 0
    top 0

    .map-label
      color $white
      display inline-block
      font-size 12px
      position relative
      white-space nowrap

      &:before
        background $black
        border-radius 50%
        content: " "
        height 10px
        margin -5px 5px 0 0
        position absolute
        right 100%
        top 50%
        width 10px

  .classifier
    background $white
    border-radius 5px
    box-shadow 0 5px 10px rgba($black, 0.33)
    color $black
    position absolute
    right 7%
    top 3%

    img
      box-sizing border-box
      display block

    .main-pair
      clearfix()
      padding 20px 10px 20px 20px
      position relative

      img
        transition 
        float left
        height 250px
        margin-right 10px
        width 250px

        &.selected
          border 3px solid $greenish

    .text
      border-top 1px solid $gray-light
      border-width 1px 0
      padding 0 20px
      text-align center

      p
        margin 20px 0

        & + .heading
          margin-top -10px

        &.heading
          font 30px/0.8 "Open Sans Condensed", sans-serif

          & + p
            margin-top -10px

      button
        standard-button()
        font-size 12px
        position absolute

    > .step
      display none

    .categories,
    .matches
      ol
        clearfix()
        padding 20px 5px 20px 20px

        li
          display block
          float left
          position relative

          button
            display block
            margin-right 15px
            position relative

            img
              height 90px
              width 90px

            &:hover
              border 1px solid $gray-dark
              margin -1px 14px -1px -1px

            &.selected img
              border 3px solid $greenish

    .categories
      margin-top -20px

      button
        &.selected:before,
        &.selected:after
          border 10px solid transparent
          border-top 10px solid $white
          content " "
          left 50%
          margin 20px 0 0 -10px
          position absolute
          top 100%

        &.selected:before
          border-top-color $gray
          margin-top 21px
          opacity 0.5

    .matches
      transition height 0.25s ease-in-out
      background $gray-light
      box-shadow 0 0 3px $gray inset
      // Height is set in the script.
      overflow hidden
      position relative

      ol
        transition opacity 0.25s ease-in-out
        opacity 0
        position absolute

        &.selected
          opacity 1
          z-index 1

    .footer
      clearfix()
      border-top 1px solid $gray-light
      padding 15px 20px

      .progress
        float left
        height 26px
        width 33%

        .subject
          line-height 0
          margin 5px 0

          li
            background $gray
            border-radius 3px
            box-shadow 0 1px 1px $gray-dark inset
            display inline-block
            height 5px
            width 5px

            &.filled
              background $orange
              box-shadow none

        .series
          .track
            background $gray
            border-radius 3px
            box-shadow 0 1px 1px $gray-dark inset
            height 5px
            overflow hidden
            position relative

            .fill
              transition(width 1s ease-in-out)
              background $orange
              height 100%
              left 0
              position absolute
              top 0
              width 100%

      .action
        float right
        font-size: 13px

        button
          standard-button()

          &[name="pro-classify"],
          &[name="next-subject"]
            display none

    &[data-step="match"] .categories-and-matches,
    &[data-step="match"] .categories-and-matches,
    &[data-step="center"] .mark-center,
    &[data-step="surrounding"] .coldest-surrounding,
    &[data-step="exceeding"] .coldest-exceeding-width,
    &[data-step="feature"] .major-feature,
    &[data-step="blue"] .major-blue,
    &[data-step="red"] .closest-red,
    &[data-step="reveal"] .reveal
      display block

    &[data-step="match"] .footer .action button
      &[name="pro-classify"]
        display inline-block

    &[data-step="match"],
    &[data-step="feature"],
    &[data-step="blue"],
    &[data-step="red"]
      .footer .action button
        &[name="next-subject"]
          display inline-block

        &[name="continue"]
          display none

.dialog-underlay
  background vendor-value(radial-gradient(rgba($black, 0.5), rgba($black, 0.75)))
  bottom 0
  display none
  left 0
  position absolute
  right 0
  text-align center
  top 0
  vertical-align middle

  &.open
    display block

  .dialog
    background $white
    border-radius 5px
    box-shadow 0 5px 10px rgba($blacker, 0.33)
    display inline-block
    max-width 600px
    position relative
    top 25%

    header
      display none

    .content
      padding 20px

    footer
      border-top 1px solid $gray-light
      font-size 13px
      padding 20px
      text-align center

      button
        standard-button()

    &.open
      display inline-block
